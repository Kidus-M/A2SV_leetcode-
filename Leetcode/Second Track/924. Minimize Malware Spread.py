class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        visited = set()

        def dfs(node):
            nonlocal connectedM
            connected.append(node)
            visited.add(node)
            for nxtNode, isConnected in enumerate(graph[node]):
                if nxtNode != node and nxtNode not in visited and isConnected == 1:
                    if nxtNode in initial:
                        connectedM += 1
                    dfs(nxtNode)

        allConnectedList = []
        initial.sort()
        for m in initial:
            if m not in visited:
                connected = []
                connectedM = 1
                dfs(m)
                savedNodes = len(connected)
                if connectedM > 1:
                    savedNodes = 0
                allConnectedList.append((-savedNodes, m))
        allConnectedList.sort()
        return allConnectedList[0][1]